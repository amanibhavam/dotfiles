#ManagedBy: cue

metadata:
  name: argocd-cm
data:
  kustomize.buildOptions: --enable-helm
  resource.customizations.health.networking.k8s.io_Ingress: |
    hs = {}
    hs.status = "Healthy"
    return hs
  resource.customizations.ignoreDifferences.admissionregistration.k8s.io_MutatingWebhookConfiguration: |
    jsonPointers:
      - /webhooks/0/clientConfig/caBundle
      - /webhooks/0/rules
  resource.customizations.ignoreDifferences.admissionregistration.k8s.io_ValidatingWebhookConfiguration: |
    jsonPointers:
      - /webhooks/0/rules
  resource.customizations.ignoreDifferences.apps_Deployment: |
    jsonPointers:
      - /spec/template/spec/tolerations
  resource.customizations.ignoreDifferences.kyverno.io_ClusterPolicy: |
    jqPathExpressions:
      - .spec.rules[] | select(.name|test("autogen-."))
  resource.customizations: "argoproj.io/Application: \n\thealth.lua: |\n\t\ths = {}\n\t\ths.status = \"Progressing\"\n\t\ths.message = \"\"\n\t\tif obj.status ~= nil then\n\t\t\tif obj.status.health ~= nil then\n\t\t\ths.status = obj.status.health.status\n\t\t\tif obj.status.health.message ~= nil then\n\t\t\t\ths.message = obj.status.health.message\n\t\t\tend\n\t\t\tend\n\t\tend\n\t\treturn hs"
kind: ConfigMap
apiVersion: v1
